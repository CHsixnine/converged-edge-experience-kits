# SPDX-License-Identifier: Apache-2.0
# Copyright (c) 2019-2021 Intel Corporation

---

# Common platform setup playbook
- hosts: controller_group:edgenode_group
  any_errors_fatal: true

  roles:
    - role: offline_roles/unpack_offline_package
      when: "offline_enable | default(False) and 'controller_group' in group_names"
    - role: offline_roles/local_fileshare_server
      when: "offline_enable | default(False) and 'controller_group' in group_names"
    - role: offline_roles/trust_ssl_list
      when: "offline_enable | default(False) and 'edgenode_group' in group_names"
    - role: offline_roles/yum_repo_enable
      when: offline_enable | default(False)
